{% extends 'dancingcubeapp/base.html' %}

{% block title %} Search results {% endblock %}

{% block content %}

<h1>Search for a map : </h1>

<form class="form-inline" action={% url 'search' %} method="GET">
    <div class="col-md-9 mb-3">
        <input class="form-control" type="search" type="search" placeholder="Search" aria-label="Search" name="q"
            value="{{ query_term|default_if_none:"" }}" style="width:100%;" />
    </div>
    <div class="col-md-3 mb-3">
        <button class="btn" type="submit">Search</button>
    </div>
</form>

<h2>
    {% if query_term %}
    All results for '<i>{{ query_term }}</i>':
    {% else %}
    All maps
    {% endif %}
</h2>
{% if query_term != None %}
{% if results.count > 0 %}
<p>{{ results.count }} results found</p>
{% else %}
<p>No results found</p>
{% endif %}

{% endif %}
<ul style="list-style-type: none;">

    {% for map in results %}
    <div class="card text-white bg-dark mt-3" style="padding:10px;">
        <div class="row">
            <div class="col-3">
                {% if map.image %}
                <img class="img-fluid" alt="Responsive image" src="{{ map.image.url }}">
                {% else %}
                <p>no image</p>
                {% endif %}
            </div>

            <div class="col-6">
                <h2>{{ map.name }}</h2>
                <p>Uploaded by : {{map.uploader}}</p>
                <p>Map Difficulty : {{map.difficulty}}</p>
                <a href="{% url 'map-detail' map.id %}" class="btn btn-primary">Details</a>
                <a href="{% url 'map-download' map.id %}" class="btn btn-outline-info">download</a>
            </div>
        </div>
    </div>
    {% endfor %}
    <!--{% for map in results %}
    <li>
        <div class="card text-white bg-dark mb-3">
            <img class="card-img-top" src="{{ map.image }}" alt="{{map.name}}'s image'"
                style="max-width:100%;max-height:100%;">
            <div class="card-body">
                <h5 class="card-title">{{map.name}}</h5>
                <p class="card-text">This is a map result in a card.</p>
                <a href="{% url 'map-detail' map.id %}" class="btn btn-primary">Details</a>
            </div>
        </div>
    </li>
    {% endfor %}-->
</ul>

{% endblock content %}